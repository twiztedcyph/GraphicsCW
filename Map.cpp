#include "Map.h"
#include "EnemyList.h"

int mapKeyOne[30][30] =
{
	{ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 }, //1
	{ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 }, //0
	{ 1, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //3
	{ 1, 1, 0, 0, 0, 0, 2, 1, 0, 0, 0, 2, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 2, 0, 0, 0, 1, 1 }, //4
	{ 1, 1, 0, 3, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1 }, //5
	{ 1, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 2, 0, 1, 3, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 1, 1 }, //6
	{ 1, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 3, 0, 1, 1 }, //7
	{ 1, 1, 0, 0, 1, 2, 0, 1, 0, 2, 1, 0, 0, 1, 0, 0, 1, 2, 0, 1, 1, 1, 3, 0, 1, 0, 0, 0, 1, 1 }, //8
	{ 1, 1, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1, 1 }, //9
	{ 1, 1, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 3, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 1 }, //10
	{ 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0, 0, 3, 0, 1, 1 }, //11
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1 }, //12
	{ 1, 1, 0, 0, 0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //13
	{ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //14
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 }, //15
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 1 }, //16
	{ 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 2, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 1 }, //17
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1 }, //18
	{ 1, 1, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 1 }, //19
	{ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 2, 1, 1, 1, 1, 1, 0, 0, 1, 1 }, //20
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //21
	{ 1, 1, 0, 3, 0, 0, 0, 0, 0, 1, 0, 2, 1, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //22
	{ 1, 1, 0, 0, 1, 1, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 2, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 }, //23
	{ 1, 1, 0, 0, 0, 3, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //24
	{ 1, 1, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 2, 0, 0, 3, 0, 0, 0, 0, 1, 1 }, //25
	{ 1, 1, 1, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1 }, //26
	{ 1, 1, 0, 0, 0, 0, 1, 2, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //27
	{ 1, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //28
	{ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 }, //29
	{ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 }  //30
};

int mapKeyTwo[60][15] =
{
	{ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 }, //1
	{ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 }, //2
	{ 1, 1, 0, 4, 4, 0, 0, 0, 0, 4, 4, 0, 0, 1, 1 }, //3
	{ 1, 1, 0, 0, 0, 0, 0, 3, 0, 0, 0, 0, 0, 1, 1 }, //4
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //5
	{ 1, 1, 0, 0, 4, 0, 0, 4, 0, 0, 0, 0, 4, 1, 1 }, //6
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //7
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //8
	{ 1, 1, 0, 4, 4, 0, 0, 4, 4, 0, 0, 0, 0, 1, 1 }, //9
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //10
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //11
	{ 1, 1, 0, 0, 0, 4, 0, 0, 0, 0, 4, 0, 0, 1, 1 }, //12
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //13
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //14
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //15
	{ 1, 1, 0, 0, 4, 0, 0, 4, 0, 0, 4, 0, 0, 1, 1 }, //16
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //17
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //18
	{ 1, 1, 0, 0, 4, 0, 0, 0, 0, 0, 0, 4, 0, 1, 1 }, //19
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //20
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //21
	{ 1, 1, 0, 0, 0, 4, 0, 0, 0, 0, 4, 0, 0, 1, 1 }, //22
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //23
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //24
	{ 1, 1, 0, 0, 4, 4, 0, 0, 4, 0, 0, 0, 4, 1, 1 }, //25
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //26
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //27
	{ 1, 1, 0, 0, 0, 0, 0, 4, 0, 0, 4, 0, 0, 1, 1 }, //28
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //29
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //30
	{ 1, 1, 4, 4, 0, 0, 4, 4, 4, 4, 0, 0, 0, 1, 1 }, //31
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //32
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //33
	{ 1, 1, 0, 0, 4, 4, 4, 0, 0, 0, 4, 4, 0, 1, 1 }, //34
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //35
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //36
	{ 1, 1, 4, 4, 0, 0, 0, 0, 0, 0, 0, 0, 4, 1, 1 }, //37
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //38
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //39
	{ 1, 1, 4, 4, 0, 0, 0, 4, 0, 0, 0, 0, 0, 1, 1 }, //40
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //41
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //42
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //43
	{ 1, 1, 4, 4, 0, 0, 0, 0, 0, 0, 0, 4, 4, 1, 1 }, //44
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //45
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //46
	{ 1, 1, 4, 4, 0, 0, 0, 4, 0, 0, 4, 0, 0, 1, 1 }, //47
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //48
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //49
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //50
	{ 1, 1, 4, 0, 0, 4, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //51
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //52
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //53
	{ 1, 1, 0, 0, 0, 0, 0, 0, 4, 4, 0, 0, 0, 1, 1 }, //54
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //55
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //56
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //57
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 4, 4, 0, 0, 1, 1 }, //58
	{ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 }, //59
	{ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 }  //60
};

int mapKeyThree[20][20] =
{
	{ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 }, //1
	{ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 }, //0
	{ 1, 1, 3, 3, 0, 0, 0, 0, 0, 3, 3, 0, 0, 0, 0, 0, 3, 3, 1, 1 }, //3
	{ 1, 1, 3, 3, 0, 0, 0, 0, 0, 3, 3, 0, 0, 0, 0, 0, 3, 3, 1, 1 }, //4
	{ 1, 1, 0, 0, 0, 0, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //5
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //6
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //7
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //8
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //9
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //10
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //11
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //12
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //13
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //14
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //15
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //16
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //17
	{ 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1 }, //18
	{ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 }, //19
	{ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 }, //20
};

Map::Map()
{
	this->xStart = 0;
	this->yStart = 20;
	this->asteroidTextureId = 0;
	this->asteroidTextureId = 0;
	this->enemyTextureID = 0;
}

Map::Map(double xStart, double yStart, EnemyList* enemyList, CollectableList* collectableList, GLuint* asteroidTextureID, GLuint* enemyTextureID, GLuint* collectableTextureID)
{
	this->xStart = xStart;
	this->yStart = yStart;
	this->asteroidTextureId = asteroidTextureID;
	this->enemyTextureID = enemyTextureID;
	this->enemyList = enemyList;
	this->collectableList = collectableList;
	this->collectableTextureID = collectableTextureID;
}


Map::~Map()
{
}

void Map::makeFieldOne()
{
	stage = 1;
	for (unsigned int i = 0; i < 30; i++)
	{
		for (unsigned int  j = 0; j < 30; j++)
		{
			if (mapKeyOne[i][j] == 1)
			{
				Asteroid asteroid(xStart + (j * 4.1), yStart + (i * -4.1), asteroidTextureId);
				asteroidField.push_back(asteroid);
			}
			else if (mapKeyOne[i][j] == 2)
			{
				CompShip newEnemy(0, xStart + (j * 4.1), yStart + (i * -4.1), enemyTextureID);
				enemyList->addNewEnemy(newEnemy);
			}
			else if (mapKeyOne[i][j] == 3)
			{
				Collectable collectable(xStart + (j * 4.1), yStart + (i * -4.1), collectableTextureID);
				collectableList->addCollectable(collectable);
			}
		}
	}
}

void Map::makeFieldTwo()
{
	stage = 2;
	for (unsigned int i = 0; i < 60; i++)
	{
		for (unsigned int j = 0; j < 15; j++)
		{
			if (mapKeyTwo[i][j] == 1)
			{
				Asteroid asteroid(xStart + (j * 4.1), yStart + (i * -4.1), asteroidTextureId);
				asteroidField.push_back(asteroid);
			}
			else if (mapKeyTwo[i][j] == 2)
			{
				CompShip newEnemy(0, xStart + (j * 4.1), yStart + (i * -4.1), enemyTextureID);
				enemyList->addNewEnemy(newEnemy);
			}
			else if (mapKeyTwo[i][j] == 3)
			{
				Collectable collectable(xStart + (j * 4.1), yStart + (i * -4.1), collectableTextureID);
				collectableList->addCollectable(collectable);
			}
			else if (mapKeyTwo[i][j] == 4)
			{
				Asteroid asteroid(xStart + (j * 4.1), yStart + (i * -4.1), 5,asteroidTextureId);
				asteroidField.push_back(asteroid);
			}
		}
	}
}

void Map::makeFieldThree()
{
	for (unsigned int i = 0; i < 20; i++)
	{
		for (unsigned int j = 0; j < 20; j++)
		{
			if (mapKeyThree[i][j] == 1)
			{
				Asteroid asteroid(xStart + (j * 4.1), yStart + (i * -4.1), asteroidTextureId);
				asteroidField.push_back(asteroid);
			}
			else if (mapKeyThree[i][j] == 3)
			{
				Collectable collectable(xStart + (j * 4.1), yStart + (i * -4.1), collectableTextureID);
				collectableList->addCollectable(collectable);
			}
			else if (mapKeyThree[i][j] == 5)
			{
				CompShip newEnemy(1, xStart + (j * 4.1), yStart + (i * -4.1), enemyTextureID);
				enemyList->addNewEnemy(newEnemy);
			}
		}
	}
}

void Map::drawField()
{
	for (unsigned int i = 0; i < asteroidField.size(); i++)
	{
		asteroidField[i].drawRoid();
	}
}

void Map::updateField(double deltaT)
{
	for (unsigned int i = 0; i < asteroidField.size(); i++)
	{
		asteroidField[i].updateRoid(deltaT);
	}
}
